{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useMemo } from 'react';\nimport { usePagedFetch } from 'shared/hooks/usePagedFetch';\nimport { ProductModel } from '../lib/Model';\nexport let ProductsSortType = /*#__PURE__*/function (ProductsSortType) {\n  ProductsSortType[\"DiscountsFirst\"] = \"df\";\n  return ProductsSortType;\n}({});\nexport const useProducts = options => {\n  _s();\n  const state = usePagedFetch('http://localhost:3005/discounts', options);\n  const data = useMemo(() => {\n    var _state$data;\n    return (_state$data = state.data) === null || _state$data === void 0 ? void 0 : _state$data.map(discount => new ProductModel(discount));\n  }, [state.data]);\n  return {\n    ...state,\n    data\n  };\n};\n_s(useProducts, \"q1bukfCcX3GiAz98XUhXGaNTlmA=\", false, function () {\n  return [usePagedFetch];\n});","map":{"version":3,"names":["useMemo","usePagedFetch","ProductModel","ProductsSortType","useProducts","options","_s","state","data","_state$data","map","discount"],"sources":["/Users/creator/Documents/projects/Israel-project/client/src/entities/product/hooks/useProducts.ts"],"sourcesContent":["import { useMemo } from 'react';\nimport { usePagedFetch, IPagedFetchOptions, IUsePagedFetchResult } from 'shared/hooks/usePagedFetch'\nimport { ProductModel } from '../lib/Model';\nimport { IProductData } from '../types/Data';\n\nexport enum ProductsSortType {\n  DiscountsFirst = 'df',\n}\n\ninterface IProductsFilter {\n  sort?: ProductsSortType | null;\n}\n\nexport const useProducts = (options?: IPagedFetchOptions<IProductsFilter>): IUsePagedFetchResult<ProductModel, IProductsFilter> => {\n  const state = usePagedFetch<IProductData>(\n    'http://localhost:3005/discounts',\n    options\n  );\n\n  const data = useMemo(() => state.data?.map((discount) => new ProductModel(discount)), [state.data]);\n\n  return {\n    ...state,\n    data\n  };\n}"],"mappings":";AAAA,SAASA,OAAO,QAAQ,OAAO;AAC/B,SAASC,aAAa,QAAkD,4BAA4B;AACpG,SAASC,YAAY,QAAQ,cAAc;AAG3C,WAAYC,gBAAgB,0BAAhBA,gBAAgB;EAAhBA,gBAAgB;EAAA,OAAhBA,gBAAgB;AAAA;AAQ5B,OAAO,MAAMC,WAAW,GAAIC,OAA6C,IAA0D;EAAAC,EAAA;EACjI,MAAMC,KAAK,GAAGN,aAAa,CACzB,iCAAiC,EACjCI,OACF,CAAC;EAED,MAAMG,IAAI,GAAGR,OAAO,CAAC;IAAA,IAAAS,WAAA;IAAA,QAAAA,WAAA,GAAMF,KAAK,CAACC,IAAI,cAAAC,WAAA,uBAAVA,WAAA,CAAYC,GAAG,CAAEC,QAAQ,IAAK,IAAIT,YAAY,CAACS,QAAQ,CAAC,CAAC;EAAA,GAAE,CAACJ,KAAK,CAACC,IAAI,CAAC,CAAC;EAEnG,OAAO;IACL,GAAGD,KAAK;IACRC;EACF,CAAC;AACH,CAAC;AAAAF,EAAA,CAZYF,WAAW;EAAA,QACRH,aAAa;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}